# ğŸ¨ Custom T-Shirt E-Commerce Platform

> ğŸš€ **Full-Stack MERN** | âš¡ **Performance Optimized** | ğŸ¨ **Real-time Customization**

Ná»n táº£ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ chuyÃªn vá» in Ã¡o phÃ´ng tÃ¹y chá»‰nh, cho phÃ©p khÃ¡ch hÃ ng thiáº¿t káº¿ vÃ  Ä‘áº·t hÃ ng Ã¡o vá»›i hÃ¬nh áº£nh riÃªng cá»§a há». Há»‡ thá»‘ng bao gá»“m cÃ´ng cá»¥ thiáº¿t káº¿ canvas, quáº£n lÃ½ Ä‘Æ¡n hÃ ng tÃ¹y chá»‰nh, thanh toÃ¡n Ä‘a cá»•ng vÃ  dashboard quáº£n trá»‹ toÃ n diá»‡n.

## ğŸ“¸ Screenshots

![Homepage](https://via.placeholder.com/800x400?text=Homepage)
![Customizer](https://via.placeholder.com/800x400?text=Design+Customizer)
![Admin Dashboard](https://via.placeholder.com/800x400?text=Admin+Dashboard)

## âœ¨ TÃ­nh nÄƒng ná»•i báº­t

### ğŸ¨ CÃ´ng cá»¥ thiáº¿t káº¿ tÃ¹y chá»‰nh
- **Canvas Editor**: Sá»­ dá»¥ng Fabric.js Ä‘á»ƒ thao tÃ¡c thiáº¿t káº¿ trá»±c tiáº¿p trÃªn canvas
- **Upload & Transform**: Táº£i lÃªn hÃ¬nh áº£nh, kÃ©o tháº£, xoay, phÃ³ng to/thu nhá»
- **Real-time Preview**: Xem trÆ°á»›c thiáº¿t káº¿ trÃªn sáº£n pháº©m theo thá»i gian thá»±c
- **Design Export**: LÆ°u thiáº¿t káº¿ vá»›i tá»a Ä‘á»™ chÃ­nh xÃ¡c Ä‘á»ƒ in áº¥n
- **Multiple Variants**: Há»— trá»£ nhiá»u mÃ u sáº¯c vÃ  kÃ­ch thÆ°á»›c

### ğŸ›’ Há»‡ thá»‘ng mua sáº¯m
- **Product Management**: Quáº£n lÃ½ sáº£n pháº©m vá»›i categories, variants, stock
- **Smart Cart**: Giá» hÃ ng lÆ°u cáº£ thiáº¿t káº¿ vÃ  thÃ´ng tin tÃ¹y chá»‰nh
- **Multi-Payment**: TÃ­ch há»£p Stripe, VNPay vÃ  COD
- **Order Tracking**: Theo dÃµi Ä‘Æ¡n hÃ ng theo thá»i gian thá»±c
- **Email Notifications**: Gá»­i email xÃ¡c nháº­n vÃ  cáº­p nháº­t Ä‘Æ¡n hÃ ng

### â­ Review & Rating System
- **Star Ratings**: ÄÃ¡nh giÃ¡ 1-5 sao vá»›i bÃ¬nh luáº­n
- **Verified Purchase**: Hiá»ƒn thá»‹ badge "Ä‘Ã£ mua hÃ ng"
- **Image Upload**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ Ä‘Ã­nh kÃ¨m áº£nh trong review
- **Helpful Votes**: Há»‡ thá»‘ng bÃ¬nh chá»n review há»¯u Ã­ch
- **Admin Moderation**: Quáº£n trá»‹ cÃ³ thá»ƒ phÃª duyá»‡t/tá»« chá»‘i review

### ğŸ‘¥ User Tier System
- **Bronze/Silver/Gold/Platinum**: PhÃ¢n cáº¥p dá»±a trÃªn tá»•ng chi tiÃªu
- **Tier Benefits**: Hiá»ƒn thá»‹ badge vÃ  cÃ³ thá»ƒ Ã¡p dá»¥ng Æ°u Ä‘Ã£i
- **Auto Upgrade**: Tá»± Ä‘á»™ng nÃ¢ng cáº¥p khi Ä‘áº¡t má»‘c chi tiÃªu
- **Profile Display**: Hiá»ƒn thá»‹ tier trÃªn profile vÃ  reviews

### ğŸ”” Notification Center
- **Real-time Updates**: ThÃ´ng bÃ¡o tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng, review má»›i
- **Read/Unread Tracking**: Theo dÃµi thÃ´ng bÃ¡o Ä‘Ã£ Ä‘á»c/chÆ°a Ä‘á»c
- **Quick Actions**: Click Ä‘á»ƒ xem chi tiáº¿t Ä‘Æ¡n hÃ ng hoáº·c review
- **Notification Types**: Order updates, reviews, promotions, system alerts

### ğŸ“Š Admin Dashboard
- **Analytics**: Doanh thu, Ä‘Æ¡n hÃ ng, khÃ¡ch hÃ ng vá»›i biá»ƒu Ä‘á»“
- **Order Management**: Xem, lá»c, cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
- **Product CRUD**: Táº¡o, sá»­a, xÃ³a sáº£n pháº©m vá»›i upload áº£nh
- **Review Management**: PhÃª duyá»‡t, tá»« chá»‘i, tráº£ lá»i reviews
- **Customer Insights**: Xem danh sÃ¡ch khÃ¡ch hÃ ng vá»›i tier vÃ  chi tiÃªu
- **Design Download**: Táº£i xuá»‘ng thiáº¿t káº¿ khÃ¡ch hÃ ng Ä‘á»ƒ in áº¥n

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend                            â”‚
â”‚  React 18 + Vite + Tailwind + Zustand + React Router       â”‚
â”‚  - Lazy Loading Routes                                      â”‚
â”‚  - Canvas Customizer (Fabric.js)                            â”‚
â”‚  - Image Optimization (Cloudinary)                          â”‚
â”‚  - State Management (Zustand)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backend                             â”‚
â”‚         Node.js + Express + MongoDB + Redis                 â”‚
â”‚  - JWT Authentication                                       â”‚
â”‚  - File Upload (Multer + Cloudinary)                        â”‚
â”‚  - Payment Processing (Stripe + VNPay)                      â”‚
â”‚  - Email Service (Resend)                                   â”‚
â”‚  - Job Queue (BullMQ)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ MongoDB â”‚        â”‚  Redis   â”‚        â”‚Cloudinaryâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ Cáº¥u trÃºc dá»± Ã¡n

```
Web_Ao_Custom/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js       # MongoDB connection
â”‚   â”‚   â”‚   â”œâ”€â”€ cloudinary.js     # Cloudinary config
â”‚   â”‚   â”‚   â”œâ”€â”€ redis.js          # Redis client
â”‚   â”‚   â”‚   â””â”€â”€ queue.js          # BullMQ setup
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.model.js     # User schema vá»›i tier system
â”‚   â”‚   â”‚   â”œâ”€â”€ Product.model.js  # Product vá»›i customizable flag
â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.model.js     # Cart vá»›i custom design support
â”‚   â”‚   â”‚   â”œâ”€â”€ Order.model.js    # Order vá»›i design placement data
â”‚   â”‚   â”‚   â”œâ”€â”€ Review.model.js   # Review vá»›i verified purchase
â”‚   â”‚   â”‚   â””â”€â”€ Notification.model.js
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ product.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ cart.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ order.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ review.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.controller.js
â”‚   â”‚   â”‚   â””â”€â”€ admin.controller.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.js
â”‚   â”‚   â”‚   â”œâ”€â”€ cache.service.js   # Redis caching
â”‚   â”‚   â”‚   â”œâ”€â”€ mail.service.js    # Resend integration
â”‚   â”‚   â”‚   â”œâ”€â”€ payment.service.js # Stripe + VNPay
â”‚   â”‚   â”‚   â”œâ”€â”€ user.service.js    # Tier calculation
â”‚   â”‚   â”‚   â””â”€â”€ notification.service.js
â”‚   â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.middleware.js
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js
â”‚   â”‚   â”‚   â””â”€â”€ validators.js
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ server.js
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ layout/
    â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ Footer.jsx
    â”‚   â”‚   â”œâ”€â”€ auth/
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ AdminRoute.jsx
    â”‚   â”‚   â”œâ”€â”€ ProductCard.jsx
    â”‚   â”‚   â”œâ”€â”€ ReviewCard.jsx
    â”‚   â”‚   â”œâ”€â”€ ReviewForm.jsx
    â”‚   â”‚   â”œâ”€â”€ StarRating.jsx
    â”‚   â”‚   â”œâ”€â”€ TierBadge.jsx
    â”‚   â”‚   â””â”€â”€ NotificationCenter.jsx
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â”œâ”€â”€ HomePage.jsx
    â”‚   â”‚   â”œâ”€â”€ ProductsPage.jsx
    â”‚   â”‚   â”œâ”€â”€ ProductDetailPage.jsx
    â”‚   â”‚   â”œâ”€â”€ CustomizerPage.jsx    # ğŸ¨ CORE: Canvas editor
    â”‚   â”‚   â”œâ”€â”€ CartPage.jsx
    â”‚   â”‚   â”œâ”€â”€ CheckoutPage.jsx
    â”‚   â”‚   â”œâ”€â”€ user/
    â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.jsx
    â”‚   â”‚   â”‚   â”œâ”€â”€ OrdersPage.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ ProfilePage.jsx
    â”‚   â”‚   â””â”€â”€ admin/
    â”‚   â”‚       â”œâ”€â”€ AdminDashboard.jsx
    â”‚   â”‚       â”œâ”€â”€ AdminOrders.jsx
    â”‚   â”‚       â”œâ”€â”€ AdminProducts.jsx
    â”‚   â”‚       â””â”€â”€ AdminReviews.jsx
    â”‚   â”œâ”€â”€ stores/
    â”‚   â”‚   â”œâ”€â”€ useAuthStore.js      # Zustand auth store
    â”‚   â”‚   â””â”€â”€ useCartStore.js      # Zustand cart store
    â”‚   â”œâ”€â”€ utils/
    â”‚   â”‚   â”œâ”€â”€ api.js               # Axios instance
    â”‚   â”‚   â””â”€â”€ imageOptimization.js # Cloudinary helpers
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â””â”€â”€ main.jsx
    â””â”€â”€ package.json
```
## ğŸ’» Tech Stack

### Backend
| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch |
|-----------|----------|
| **Node.js 18** + **Express.js** | RESTful API server |
| **MongoDB** + **Mongoose** | NoSQL database & ODM |
| **Redis** + **BullMQ** | Caching & Background jobs |
| **JWT** | Authentication (Access/Refresh tokens) |
| **Cloudinary** | Image storage & CDN |
| **Stripe** + **VNPay** | Payment processing |
| **Resend** | Transactional emails |
| **Multer** | File upload handling |
| **Bcrypt** | Password hashing |
| **Winston** | Logging system |

### Frontend
| CÃ´ng nghá»‡ | Má»¥c Ä‘Ã­ch |
|-----------|----------|
| **React 18** | UI framework |
| **Vite** | Build tool & dev server |
| **Tailwind CSS** | Utility-first CSS |
| **Zustand** | Lightweight state management |
| **React Router v6** | Client-side routing |
| **Fabric.js** | Canvas manipulation |
| **html2canvas** | Canvas screenshot |
| **Axios** | HTTP client |
| **React Hot Toast** | Toast notifications |
| **Recharts** | Data visualization |

### DevOps & Tools
- **Vercel** - Frontend hosting
- **Railway** - Backend hosting
- **MongoDB Atlas** - Cloud database
- **Git** - Version control
- **ESLint** + **Prettier** - Code quality

## ğŸ—„ï¸ Database Schema

### Collections

#### Users
```javascript
{
  email: String (unique),
  password: String (hashed),
  name: String,
  role: 'customer' | 'admin',
  tier: 'Bronze' | 'Silver' | 'Gold' | 'Platinum',
  totalSpent: Number,
  searchHistory: [{ query, timestamp }],
  createdAt: Date
}
```

#### Products
```javascript
{
  name: String,
  slug: String (unique),
  description: String,
  price: Number,
  compareAtPrice: Number,
  isCustomizable: Boolean, // Flag cho sáº£n pháº©m cÃ³ thá»ƒ tÃ¹y chá»‰nh
  printableArea: {
    location: 'front' | 'back',
    width: Number,
    height: Number,
    offsetX: Number,
    offsetY: Number
  },
  variantColors: [{ name, hexCode, imageUrl }],
  sizes: [{ name, stock }],
  images: [{ url, publicId }],
  rating: { average: Number, count: Number },
  category: ObjectId
}
```

#### Orders
```javascript
{
  orderNumber: String (unique),
  user: ObjectId,
  items: [{
    product: ObjectId,
    customDesign: {
      imageUrl: String,        // Cloudinary URL
      publicId: String,
      placement: {             // Tá»a Ä‘á»™ cho in áº¥n
        location: 'front' | 'back',
        x: Number,
        y: Number,
        width: Number,
        height: Number,
        rotation: Number
      },
      previewUrl: String       // Preview thumbnail
    },
    quantity: Number,
    price: Number
  }],
  totalAmount: Number,
  paymentMethod: 'stripe' | 'vnpay' | 'cod',
  paymentStatus: 'pending' | 'paid' | 'failed',
  status: 'pending' | 'confirmed' | 'processing' | 'shipped' | 'delivered',
  shippingAddress: Object,
  createdAt: Date
}
```

#### Reviews
```javascript
{
  user: ObjectId,
  product: ObjectId,
  order: ObjectId,              // Link Ä‘áº¿n Ä‘Æ¡n hÃ ng
  rating: Number (1-5),
  comment: String,
  images: [String],             // URLs cá»§a áº£nh review
  isVerifiedPurchase: Boolean,
  helpfulCount: Number,
  createdAt: Date
}
```

## ğŸ”„ Core Workflows

### 1. Customization Flow
```
1. KhÃ¡ch hÃ ng chá»n sáº£n pháº©m customizable
2. Upload hÃ¬nh áº£nh (PNG/JPG) â†’ Cloudinary
3. Fabric.js canvas: kÃ©o, xoay, phÃ³ng to/thu nhá»
4. html2canvas capture preview
5. LÆ°u vÃ o Cart: {imageUrl, placement, previewUrl}
6. Checkout â†’ Order vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin thiáº¿t káº¿
7. Admin xem Order â†’ Download design file Ä‘á»ƒ in
```

### 2. Payment Flow
```
Customer â†’ Cart â†’ Checkout
                     â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼            â–¼             â–¼
    Stripe        VNPay          COD
        â”‚            â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
            Payment Success
                     â†“
         Create Order + Send Email
```

### 3. Review Flow
```
Order Delivered â†’ Customer writes review
                         â†“
              Upload images (optional)
                         â†“
              Admin moderation (approve/reject)
                         â†“
              Display on product page
                         â†“
        Auto-update product rating average
```

## ğŸš€ CÃ i Ä‘áº·t & Cháº¡y

### YÃªu cáº§u
- Node.js 18+
- MongoDB 6+
- TÃ i khoáº£n Cloudinary

### CÃ i Ä‘áº·t nhanh

```bash
# Clone repo
git clone <repo-url>

# Backend
cd backend
npm install
cp .env.example .env
# Chá»‰nh sá»­a .env vá»›i thÃ´ng tin cá»§a báº¡n
npm run dev

# Frontend (terminal má»›i)
cd frontend
npm install
npm run dev
```

### Environment Variables

**Backend (.env)**
```env
MONGODB_URI=your_mongodb_uri
JWT_ACCESS_SECRET=your_secret
CLOUDINARY_CLOUD_NAME=your_cloud
CLOUDINARY_API_KEY=your_key
CLOUDINARY_API_SECRET=your_secret
STRIPE_SECRET_KEY=sk_test_xxx
VNPAY_TMN_CODE=your_code
RESEND_API_KEY=re_xxx
```

**Frontend (.env)**
```env
VITE_API_URL=http://localhost:5000/api
```

Chi tiáº¿t cÃ i Ä‘áº·t Ä‘áº§y Ä‘á»§ xem táº¡i [INSTALLATION.md](./INSTALLATION.md)

## ğŸ“± API Documentation

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `POST /api/auth/logout` - ÄÄƒng xuáº¥t
- `GET /api/auth/me` - Láº¥y thÃ´ng tin user

### Products
- `GET /api/products` - Danh sÃ¡ch sáº£n pháº©m (há»— trá»£ filter, search, sort)
- `GET /api/products/:slug` - Chi tiáº¿t sáº£n pháº©m
- `POST /api/products` - Táº¡o sáº£n pháº©m (Admin)

### Orders
- `POST /api/orders` - Táº¡o Ä‘Æ¡n hÃ ng
- `GET /api/orders` - Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
- `GET /api/admin/orders` - Quáº£n lÃ½ Ä‘Æ¡n hÃ ng (Admin)

### Reviews
- `POST /api/reviews` - Viáº¿t review
- `GET /api/reviews/product/:id` - Láº¥y reviews cá»§a sáº£n pháº©m
- `POST /api/reviews/:id/helpful` - Vote helpful

Chi tiáº¿t API Ä‘áº§y Ä‘á»§ xem táº¡i [API.md](./API.md)

## ğŸ¯ Performance Metrics

- âš¡ Initial Bundle: **89 KB** (gzipped)
- ğŸš€ Time to Interactive: **< 2.5s**
- ğŸ“Š Lighthouse Score: **90+**
- ğŸ–¼ï¸ Image Optimization: **85% reduction**
- ğŸ’¾ Redis Cache Hit Rate: **~75%**

## ğŸ› ï¸ Development

```bash
# Backend development
cd backend
npm run dev          # Nodemon with auto-reload

# Frontend development
cd frontend
npm run dev          # Vite dev server

# Production build
npm run build
npm start
```

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## ğŸ“„ License

MIT License

## ğŸ‘¨â€ğŸ’» Author

Dá»± Ã¡n Ä‘Æ°á»£c phÃ¡t triá»ƒn nhÆ° má»™t demo cho há»‡ thá»‘ng e-commerce full-stack vá»›i:
- âœ… TÃ­nh nÄƒng customization Ä‘á»™c Ä‘Ã¡o
- âœ… Performance optimization
- âœ… Modern web practices
- âœ… Scalable architecture

---

â­ Náº¿u tháº¥y project há»¯u Ã­ch, Ä‘á»«ng quÃªn star nhÃ©!
